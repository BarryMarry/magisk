下面这些是可直接复制到仓库的 .github/workflows/ 目录的 YAML 工作流代码，覆盖常见场景，少解释、直接用。
1. Node.js CI（多版本测试 + 缓存依赖）
name: Node.js CI
on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main
jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [18.x, 20.x]
    steps:
      - uses: actions/checkout@v4
      - name: Setup Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node-version }}
          cache: npm
      - run: npm ci
      - run: npm run build --if-present
      - run: npm test
2. Python CI（多版本测试 + lint）
name: Python CI
on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main
jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: [3.10, 3.11]
    steps:
      - uses: actions/checkout@v4
      - name: Setup Python ${{ matrix.python-version }}
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}
          cache: pip
      - run: pip install -r requirements.txt
      - run: pytest
      - run: flake8
3. Hugo 静态网站部署到 GitHub Pages
name: Hugo Pages
on:
  push:
    branches:
      - main
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: latest
          extended: true
      - name: Build
        run: hugo --minify
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./public
4. Docker 镜像构建与推送（GitHub Container Registry）
name: Docker Build and Push
on:
  push:
    branches:
      - main
jobs:
  docker:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Docker
        run: |
          docker build -t ${{ github.repository }}:${{ github.sha }} .
          docker push ghcr.io/${{ github.repository }}:$:${{ github.sha }}
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
5. CodeQL 代码安全扫描（每日运行）
name: CodeQL Scan
on:
  push:
    branches:
      - main
  schedule:
    - cron: '0 5 * * *'
jobs:
  analyze:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: github/codeql-action/init@v3
      - uses: github/codeql-action/autobuild@v3
      - uses: github/codeql-action/analyze@v3
6. 定时任务：钉钉消息推送（示例）
name: DingTalk Notify
on:
  schedule:
    - cron: '0 9 * * *'
jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send DingTalk Message
        uses: timonwong/dingtalk-action@v1
        with:
          webhook: ${{ secrets.DINGTALK_WEBHOOK }}
          type: text
          content: "今日构建成功提醒"
7. 阿里云镜像同步（私有仓库）
name: Sync Docker Image to Aliyun
on:
  push:
    branches:
      - main
  workflow_dispatch:
jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Login to Aliyun
        run: |
          docker login --username ${{ secrets.ALIYUN_USERNAME }} --password ${{ secrets.ALIYUN_PASSWORD }} registry.cn-hangzhou.aliyuncs.com
      - name: Pull and Push Image
        run: |
          skopeo copy docker://docker.io/nginx:latest docker://registry.cn-hangzhou.aliyuncs.com/my-nginx:v1
8. 可重用工作流：标准CI（被其他工作流调用）
# 在 .github/workflows/ci-standard.yml 中定义
name: Standard CI
on:
  workflow_call:
    inputs:
      package-manager:
        type: string
        required: true
jobs:
  ci:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Environment
        run: |
          ${{ inputs.package-manager }} install
      - name: Test
        run: |
          ${{ inputs.package-manager }} test
      - name: Build
        run: |
          ${{ inputs.package-manager }} run build
9. 调用可重用工作流的示例
# 在另一个工作流中调用上面的标准CI
name: My Project CI
on:
  push:
    branches:
      - main
jobs:
  ci:
    uses: ./.github/workflows/ci-standard.yml@v1
    with:
      package-manager: npm
10. 多环境部署（根据分支名区分）
name: Multi-Environment Deploy
on:
  push:
    branches:
      - main
      - staging
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Deploy to Environment
        run: |
          if [ "$GITHUB_REF" = "refs/heads/main" ]; then
            echo " Deploying to production..."
# 生产环境部署命令
          elif [ "$GITHUB_REF" = "refs/heads/staging" ]; then
            echo " Deploying to staging..."
# 预发环境部署命令
          fi
11. 完整 CI/CD 示例（含lint、测试、部署）
name: Full CI/CD Pipeline
on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main
jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm ci
      - run: npm run lint
  test:
    runs-on: ${{ matrix.os }}
    needs: lint
    strategy:
      matrix:
        os: [ubuntu-latest, windows-latest]
        node-version: [16, 18]
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v3
        with:
          node-version: ${{ matrix.node-version }}
      - uses: actions/cache@v3
        with:
          path: ~/.npm
          key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
      - run: npm ci
      - run: npm test
      - uses: actions/upload-artifact@v3
        if: ${{ success() }}
        with:
          name: test-results-${{ matrix.os }}-${{ matrix.node-version }}
          path: test-results/
  deploy:
    runs-on: ubuntu-latest
    needs: test
    if: github.ref == 'refs/heads/main'
    environment: production
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npm run build
      - name: Deploy to Production
        uses: appleboy/ssh-action@master
        with:
          host: ${{ secrets.HOST }}
          username: ${{ secrets.USERNAME }}
          key: ${{ secrets.SSH_KEY }}
          script: |
            cd /var/www/myapp
            git pull
            npm ci --production
            pm2 restart myapp
12. 调试信息输出（方便排查问题）
name: Debug Workflow
on:
  push:
    branches:
      - main
jobs:
  debug:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Debug info
        run: |
          echo "Event: ${{ github.event_name }}"
          echo "Ref: ${{ github.ref }}"
          echo "SHA: ${{ github.sha }}"
          echo "Actor: ${{ github.actor }}"
          echo "Workflow: ${{ github.workflow }}"
13. 失败时自动触发 tmate 实时调试
name: tmate Debug
on:
  pull_request:
    branches:
      - main
jobs:
  tmate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup tmate session
        uses: mxschmitt/action-tmate@v3
        if: ${{ github.event_name == 'pull_request' && failure() }}
14. 环境变量和 Secrets示例
name: Environment Variables and Secrets
on:
  push:
    branches:
      - main
jobs:
  env-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Use environment variables
        env:
          NODE_ENV: production
          API_URL: https://api.example.com
          DATABASE_URL: ${{ secrets.DATABASE_URL }}
          API_KEY: ${{ secrets.API_KEY }}
        run: |
          echo "Database URL: $DATABASE_URL"
          echo "API Key: $API_KEY"
          echo "Node.js environment: $NODE_ENV"
          echo "API URL: $API_URL"
15. 缓存依赖示例（加速构建）
name: Cache Dependencies
on:
  push:
    branches:
      - main
jobs:
  cache-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Cache node modules
        uses: actions/cache@v3
        env:
          cache-name: cache-node-modules
        with:
          path: ~/.npm
          key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/package-lock.json') }}
          restore-keys: |
            ${{ runner.os }}-build-${{ env.cache-name }}-
            ${{ runner.os }}-build-
            ${{ runner.os }}-
      - name: Install Dependencies
        run: npm ci
16. 最小权限原则示例
name: Minimum Permissions
on:
  push:
    branches:
      - main
jobs:
  permissions-test:
    runs-on: ubuntu-latest
    permissions ⁠⁠⁠⁠⁠⁠
